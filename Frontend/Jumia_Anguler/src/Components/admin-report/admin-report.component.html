<div class="dashboard-container">

  <!-- Summary Statistics Row -->
  <div class="row g-4 m-3">
    <!-- User Engagement Ratio -->
    <div class="col-md-3">
      <div class="stat-card">
        <div class="stat-icon bg-info">
          <i class="bi bi-activity"></i>
        </div>
        <div class="stat-content">
          <h6 class="stat-label">Engagement Ratio</h6>
          <h3 class="stat-value">{{ (dashboardData.newUsersThisMonth / dashboardData.totalUsers * 100).toFixed(1) }}%</h3>
          <small>New vs Total Users</small>
        </div>
      </div>
    </div>
    
    <!-- Stock Health Index -->
    <div class="col-md-3">
      <div class="stat-card">
        <div class="stat-icon bg-warning">
          <i class="bi bi-box-seam"></i>
        </div>
        <div class="stat-content">
          <h6 class="stat-label">Stock Health</h6>
          <h3 class="stat-value">{{ (1 - dashboardData.outOfStockProducts / dashboardData.totalProducts).toFixed(2) }}</h3>
          <small>1.00 = Perfect</small>
        </div>
      </div>
    </div>
    
    <!-- Sales per Product -->
    <div class="col-md-3">
      <div class="stat-card">
        <div class="stat-icon bg-success">
          <i class="bi bi-currency-dollar"></i>
        </div>
        <div class="stat-content">
          <h6 class="stat-label">Avg. Sales/Product</h6>
          <h3 class="stat-value">{{ (dashboardData.totalSales / dashboardData.totalProducts).toFixed(2) }}</h3>
          <small>Total Sales รท Products</small>
        </div>
      </div>
    </div>
    
    <!-- Commission Rate -->
    <div class="col-md-3">
      <div class="stat-card">
        <div class="stat-icon bg-danger">
          <i class="bi bi-percent"></i>
        </div>
        <div class="stat-content">
          <h6 class="stat-label">Commission Rate</h6>
          <h3 class="stat-value">{{ (dashboardData.totalCommission / dashboardData.totalSales * 100).toFixed(1) }}%</h3>
          <small>Commission รท Sales</small>
        </div>
      </div>
    </div>
  </div>

  <!-- First Chart Row - Combined Metrics -->
  <div class="row g-4 m-3">
    <!-- User Growth vs Sales -->
    <div class="col-md-6">
      <div class="report-card">
        <h5 class="report-title">User Growth vs Sales Performance</h5>
        <div echarts [options]="growthVsSalesOptions" style="height: 400px;"></div>
      </div>
    </div>
    
    <!-- Category Efficiency -->
    <div class="col-md-6">
      <div class="report-card">
        <h5 class="report-title">Category Efficiency (Products per Category)</h5>
        <div echarts [options]="categoryEfficiencyOptions" style="height: 400px;"></div>
      </div>
    </div>
  </div>

  <!-- Second Chart Row - Derived Metrics -->
  <div class="row g-4 m-3">
    <!-- Profitability Analysis -->
    <div class="col-md-8">
      <div class="report-card">
        <h5 class="report-title">Profitability Analysis (Sales vs Commission)</h5>
        <div echarts [options]="profitabilityOptions" style="height: 400px;"></div>
      </div>
    </div>
    
    <!-- Inventory Risk -->
    <div class="col-md-4">
      <div class="report-card">
        <h5 class="report-title">Inventory Risk Distribution</h5>
        <div echarts [options]="inventoryRiskOptions" style="height: 400px;"></div>
      </div>
    </div>
  </div>
</div>